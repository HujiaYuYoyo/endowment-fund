GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  * MS&E 348 - Endowment Fund Management
   2  *
   3  * This model represents a multistage stochastic program exploring managing
   4  * an endowment fund portfolio, with an initial deterministic stage for
   5  * asset allocation and then rebalancing in each stochastic stage.
   6   
   7  * Data - from fitted distributions
   8  *----------------------------------------------------------------------
INCLUDE    /Users/michellezhang/Desktop/endowment_fund/GAMS/assetm.inc
  10  * MS&E 348 - Endowment Fund Management
  11  * include file asset.inc
  12   
  13  Set i "assets"
  14  /stock
  15  cbond
  16  gbond
  17  alter
  18  cash/;
  19   
  20  Alias (i, ii);
  21   
  22  Parameter rbar(i) "mean returns"
  23  /
  24  stock   0.06044
  25  cbond   -0.03083
  26  gbond   -0.00891
  27  alter   0.054306
  28  cash    -0.00267
  29  /;
  30   
  31  Parameter rstd(i) "standard deviation of returns"
  32  /
  33  stock   0.15326
  34  cbond   0.14756
  35  gbond   0.09429
  36  alter   0.04826
  37  cash    0.00737
  38  /;
  39   
  40  Table chol(i, ii) "covariance matrix of returns"
  41          stock   cbond   gbond   alter   cash
  42  stock   0.15326 0.04216 -0.0074 0.00097 0.03874
  43  cbond   0.00000 0.20000 0.08114 0.00550 0.00551
  44  gbond   0.00000 0.00000 0.04746 0.00061 -0.00863
  45  alter   0.00000 0.00000 0.00000 0.00476 -0.00341
  46  cash    0.00000 0.00000 0.00000 0.00000 0.02668;
  47  *----------------------------------------------------------------------
  48   
  49  Set
  50          ci(i) "cash asset" /cash/
  51          ai(i) "non-cash assets" /stock, cbond, gbond, alter/;
  52   
  53  * Model params
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  54  Scalar
  55          w0                      "initial funds/wealth"          /1.0/
  56          wtarget         "wealth target scale"           /1.5/;
  57   
  58  Parameter
  59          x0(i)   "amount of initial holdings in assets";
  60   
  61  x0(ai) = 0;
  62  x0(ci) = w0;
  63  display x0;
  64   
  65  * Settings - define scenarios
  66  options limrow = 0, limcol = 0;
  67  option reslim = 1000000;
  68  option iterlim = 1000000;
  69  option solprint = off;
  70  option lp = minos5;
  71  option nlp = minos5;
  72  option Seed = 1;
  73   
  74  Set
  75          w1      "first stage scenarios"         /w1_01*w1_25/
  76          w2      "second stage scenarios"        /w2_01*w2_25/
  77          w3      "third stage scenarios"         /w3_01*w3_25/;
  78   
  79  Scalars
  80          n1      "number of scenarios in stage 1"
  81          n2      "number of scenarios in stage 2"
  82          n3      "number of scenarios in stage 3";
  83   
  84  n1 = card(w1);
  85  n2 = card(w2);
  86  n3 = card(w3);
  87  display n1, n2, n3;
  88   
  89  Parameter
  90          nall    "total number of scenarios";
  91   
  92  nall = n1 * n2 * n3;
  93  display nall;
  94   
  95  * Cash flow - define and initializing
  96  Parameters
  97          cf1                             "cash flow into 1 from end of stage 0"
  98          cf2(w1)                 "cash flow into 2 from end of stage 1"
  99          cf3(w1,w2)              "cash flow into 3 from end of stage 2"
 100          cf4(w1,w2,w3)   "cash flow into 4 from end of stage 3";
 101   
 102  cf1                             = 0.0;
 103  cf2(w1)                 = 0.0;
 104  cf3(w1,w2)              = 0.0;
 105  cf4(w1,w2,w3)   = 0.0;
 106   
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 107  * Sampling - use cholesky and lognormal
 108  Parameters
 109          r1(i, w1)       "return scenarios at end of stage 1"
 110          r2(i, w2)       "return scenarios at end of stage 2"
 111          r3(i, w3)       "return scenarios at end of stage 3";
 112   
 113  Parameters
 114          r1bar_est(i)    "estimate for mean return 1"
 115          r2bar_est(i)    "estimate for mean return 2"
 116          r3bar_est(i)    "estimate for mean return 3"
 117          r1std_est(i)    "estimate for std dev return 1"
 118          r2std_est(i)    "estimate for std dev return 2"
 119          r3std_est(i)    "estimate for std dev return 3"
 120          nv(ii)  "normal variable samples";
 121   
 122  loop(w1,
 123          loop(ii,
 124                  nv(ii) = normal(0,1);
 125          );
 126          r1(i, w1) = sum(ii, chol(ii, i) * nv(ii));
 127  );
 128   
 129  loop(w2,
 130          loop(ii,
 131                  nv(ii) = normal(0,1);
 132          );
 133          r2(i, w2) = sum(ii, chol(ii, i) * nv(ii));
 134  );
 135   
 136  loop(w3,
 137          loop(ii,
 138                  nv(ii) = normal(0,1);
 139          );
 140          r3(i, w3) = sum(ii, chol(ii, i) * nv(ii));
 141  );
 142  display r1, r2, r3;
 143   
 144  r1bar_est(i) = sum(w1, r1(i,w1))/n1;
 145  r2bar_est(i) = sum(w2, r2(i,w2))/n2;
 146  r3bar_est(i) = sum(w3, r3(i,w3))/n3;
 147   
 148  * Sampling - mean correction
 149  r1(i, w1) = r1(i, w1) - r1bar_est(i);
 150  r2(i, w2) = r2(i, w2) - r2bar_est(i);
 151  r3(i, w3) = r3(i, w3) - r3bar_est(i);
 152   
 153  r1bar_est(i) = sum(w1, r1(i,w1))/n1;
 154  r2bar_est(i) = sum(w2, r2(i,w2))/n2;
 155  r3bar_est(i) = sum(w3, r3(i,w3))/n3;
 156   
 157  * Sampling - calculate estimated std
 158  r1std_est(i) = sqrt(sum(w1, sqr(r1(i,w1) - r1bar_est(i)))/(n1-1));
 159  r2std_est(i) = sqrt(sum(w2, sqr(r2(i,w2) - r2bar_est(i)))/(n2-1));
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 160  r3std_est(i) = sqrt(sum(w3, sqr(r3(i,w3) - r3bar_est(i)))/(n3-1));
 161   
 162  * Sampling - std correction
 163  r1(i, w1) = r1(i, w1)*rstd(i)/r1std_est(i);
 164  r2(i, w2) = r2(i, w2)*rstd(i)/r2std_est(i);
 165  r3(i, w3) = r3(i, w3)*rstd(i)/r3std_est(i);
 166   
 167  r1std_est(i) = sqrt(sum(w1, sqr(r1(i,w1)- r1bar_est(i)))/(n1-1));
 168  r2std_est(i) = sqrt(sum(w2, sqr(r2(i,w2)- r2bar_est(i)))/(n2-1));
 169  r3std_est(i) = sqrt(sum(w3, sqr(r3(i,w3)- r3bar_est(i)))/(n3-1));
 170   
 171  * Sampling - adding true mean
 172  r1(i, w1) = r1(i, w1) + rbar(i);
 173  r2(i, w2) = r2(i, w2) + rbar(i);
 174  r3(i, w3) = r3(i, w3) + rbar(i);
 175   
 176  r1bar_est(i) = sum(w1, r1(i,w1))/n1;
 177  r2bar_est(i) = sum(w2, r2(i,w2))/n2;
 178  r3bar_est(i) = sum(w3, r3(i,w3))/n3;
 179   
 180  display rbar, r1bar_est, r2bar_est, r3bar_est;
 181  display rstd, r1std_est, r2std_est, r3std_est;
 182   
 183  * Sampling - convert to actual return from log
 184  r1(i, w1) = exp(r1(i, w1));
 185  r2(i, w2) = exp(r2(i, w2));
 186  r3(i, w3) = exp(r3(i, w3));
 187   
 188  r1bar_est(i) = sum(w1, r1(i,w1))/n1;
 189  r2bar_est(i) = sum(w2, r2(i,w2))/n2;
 190  r3bar_est(i) = sum(w3, r3(i,w3))/n3;
 191   
 192  display r1, r2, r3;
 193   
 194  * Stage params
 195  Positive Variables
 196          x1(i)           "amount held of assets for stochastic stage 1"
 197          z1(i)           "amount bought of assets for stochastic stage 1"
 198          y1(i)           "amount sold of assets for stochastic stage 1"
 199          x2(i,w1)                "amount held of assets for stochastic stage 2"
 200          z2(i,w1)                "amount bought of assets for stochastic stage 2"
 201          y2(i,w1)                "amount sold of assets for stochastic stage 2"
 202          x3(i,w1,w2)             "amount held of assets for stochastic stage 3"
 203          z3(i,w1,w2)             "amount bought of assets for stochastic stage 3"
 204          y3(i,w1,w2)             "amount sold of assets for stochastic stage 3";
 205   
 206  x1.lo(i) = 0;
 207  x2.lo(i,w1) = 0;
 208  x3.lo(i,w1,w2) = 0;
 209   
 210  * Initialization of params
 211  x1.l(i) = w0/card(i);
 212  x2.l(i,w1) = w0/card(i);
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 213  x3.l(i,w1,w2) = w0/card(i);
 214   
 215  * Cash asset cannot be bought or sold
 216  z1.up(ci) = 0;
 217  y1.up(ci) = 0;
 218  z2.up(ci,w1) = 0;
 219  y2.up(ci,w1) = 0;
 220  z3.up(ci,w1,w2) = 0;
 221  y3.up(ci,w1,w2) = 0;
 222   
 223  * Define state-dependent transaction costs
 224  Parameter basis(i) "baseline transaction cost for assets"
 225  /
 226  stock   0.005
 227  cbond   0.0025
 228  gbond   0.0025
 229  alter   0.01
 230  cash    0.00
 231  /;
 232   
 233  Parameter
 234          strc1(i)        "sell transaction cost/asset for stage 1"
 235          btrc1(i)        "buy transaction cost/asset for stage 1"
 236          strc2(i,w1)     "sell transaction cost/asset for stage 2"
 237          btrc2(i,w1)     "buy transaction cost/asset for stage 2"
 238          strc3(i,w2)     "sell transaction cost/asset for stage 3"
 239          btrc3(i,w2)     "buy transaction cost/asset for stage 3";
 240   
 241  strc1(i) = basis(i);
 242  btrc1(i) = basis(i);
 243   
 244  strc2(i,w1) = basis(i) + basis(i) * (r1(i, w1)/r1bar_est(i) - 1);
 245  btrc2(i,w1) = basis(i) + basis(i) * (-r1(i, w1)/r1bar_est(i) + 1);
 246   
 247  strc3(i,w2) = basis(i) + basis(i) * (r2(i, w2)/r2bar_est(i) - 1);
 248  btrc3(i,w2) = basis(i) + basis(i) * (-r2(i, w2)/r2bar_est(i) + 1);
 249   
 250  *strc(i) = 0.0;
 251  *btrc(i) = 0.0;
 252   
 253  display x1.l, y1.l, z1.l;
 254   
 255  * Definitions for utility
 256  Scalar
 257          alpha           "alpha for utility function"    /20/
 258          lambda          "lambda for utility function"   /10/;
 259   
 260  Parameters
 261          sup             "upside slope"
 262          sdo             "downside slope";
 263   
 264  sup = 1;
 265  sdo = 10;
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 266   
 267  Positive Variables
 268          u(w1,w2,w3) "upside wealth"
 269          v(w1,w2,w3) "downside wealth";
 270   
 271  Free Variable
 272          utility         "utility of investments";
 273   
 274  * Piecewise Linear:
 275  * utility =e= sup*sum((w1,w2,w3),u(w1,w2,w3))/nall - sdo*sum((w1,w2,w3),v(w1,w2,w3))/nall;
 276  * termw(w1,w2,w3)       "terminal utility constraints";
 277  * termw(w1,w2,w3).. -sum(i,r3(i,w3)*x3(i,w1,w2)) + u(w1,w2,w3) - v(w1,w2,w3) =e= -wtarget + cf4(w1,w2,w3);
 278  *
 279  * Power:
 280  * utility =e= sum((w1,w2,w3),(sum(i,r3(i,w3)*x3(i,w1,w2))**(1-alpha)-1)/(1-alpha))/nall;
 281  *
 282  * Quadratic Variant, p.211 in DAA strategies:
 283  * utility =e= sum((w1,w2,w3), sum(i,r3(i,w3)*x3(i,w1,w2)) - lambda / 2 * (max(0, wtarget - sum(i,r3(i,w3)*x3(i,w1,w2))))**2)/nall;
 284  *
 285  * CVar:
 286  *
 287  *
 288  * Diversification constraints:
 289  * diversify1(i) "diversification constraint at stage 1"
 290  * diversify2(i,w1)      "diversification constraint at stage 2"
 291  * diversify3(i,w1,w2)   "diversification constraint at stage 3"
 292  *
 293  *
 294   
 295  * Constraint equations
 296  Equations
 297          objfunc                 "objective function - utility"
 298          abalance1(ai)   "initial balancing for assets, at stage 1"
 299          cbalance1(ci)   "initial balancing for cash, at stage 1"
 300          arebalance2(ai,w1)      "rebalancing for assets, at stage 2"
 301          crebalance2(ci,w1)      "rebalancing for cash, at stage 2"
 302          arebalance3(ai,w1,w2)   "rebalancing for assets, at stage 3"
 303          crebalance3(ci,w1,w2)   "rebalancing for cash, at stage 3"
 304          termw(w1,w2,w3) "terminal utility constraints";
 305   
 306  objfunc..       utility =e= sum((w1,w2,w3),(sum(i,r3(i,w3)*x3(i,w1,w2))**(1-alpha)-1)/(1-alpha))/nall;
 307   
 308  abalance1(ai).. x1(ai) + y1(ai) - z1(ai) =e= x0(ai);
 309   
 310  cbalance1(ci).. x1(ci) + sum(ii, -(1-strc1(ii))*y1(ii) + (1+btrc1(ii))*z1(ii)) =e= x0(ci) + cf1;
 311   
 312  arebalance2(ai,w1).. -r1(ai,w1)*x1(ai) + x2(ai,w1) + y2(ai, w1) - z2(ai,w1) =e= 0;
 313   
 314  crebalance2(ci,w1).. -r1(ci,w1)*x1(ci) + x2(ci,w1) + sum(ii, -(1-strc2(ii,w1))*y2(ii,w1) + (1+btrc2(ii,w1))*z2(ii,w1)) =e= cf2(w1);
 315   
 316  arebalance3(ai,w1,w2).. -r2(ai,w2)*x2(ai,w1) + x3(ai,w1,w2) + y3(ai,w1,w2) - z3(ai,w1,w2) =e= 0;
 317   
 318  crebalance3(ci,w1,w2).. -r2(ci,w2)*x2(ci,w1) + x3(ci,w1,w2) + sum(ii, -(1-strc3(ii,w2))*y3(ii,w1,w2) + (1+btrc3(ii,w2))*z3(ii,w1,w2)) =e= cf3(w1,w2);
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 319   
 320  termw(w1,w2,w3).. -sum(i,r3(i,w3)*x3(i,w1,w2)) + u(w1,w2,w3) - v(w1,w2,w3) =e= -wtarget + cf4(w1,w2,w3);
 321   
 322  * Solve
 323  *option lp = cplex;
 324  option mpec=nlpec;
 325   
 326  Model endowment /all/;
 327  *Solve endowment using lp maximizing utility;
 328  Solve endowment using mpec maximizing utility;
 329   
 330  display utility.l, x1.l, y1.l, z1.l, x2.l, y2.l, z2.l, x3.l, y3.l, z3.l;
 331   
 332  File results / results.txt /;
 333  put results;
 334  put "Objective", utility.l /;
 335  put "STAGE 1 x1 "/;
 336  loop(i,
 337    put i.tl, x1.l(i)/;
 338  );
 339  put "STAGE 2 x2 "/;
 340  loop(w1,
 341          loop(i,
 342                  put i.tl, sum(ii, x2.l(ii, w1)), x2.l(i, w1)/;
 343          );
 344  );
 345  put "STAGE 2 x2 wealth totals"/;
 346  loop(w1,
 347          put sum(i, x2.l(i, w1))/;
 348  );
 349  put "STAGE 3 x3 "/;
 350  loop((w1,w2),
 351          loop(i,
 352                  put i.tl, sum(ii, x3.l(ii, w1, w2)), x3.l(i, w1, w2)/;
 353          );
 354  );
 355  put "STAGE 3 x3 wealth totals"/;
 356  loop((w1,w2),
 357          put sum(i, x3.l(i, w1, w2))/;
 358  );
 359  putclose;
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  /Users/michellezhang/Desktop/endowment_fund/GAMS/endowment.gms
     2        9 INCLUDE        1       9  ./Users/michellezhang/Desktop/endowment_fund/GAMS/assetm.inc


COMPILATION TIME     =        0.003 SECONDS      3 MB  25.0.2 r65346 DEX-DEG
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                   03/14/18 02:30:51 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----     63 PARAMETER x0  amount of initial holdings in assets

cash 1.000


----     87 PARAMETER n1                   =       25.000  number of scenarios in stage 1
            PARAMETER n2                   =       25.000  number of scenarios in stage 2
            PARAMETER n3                   =       25.000  number of scenarios in stage 3

----     93 PARAMETER nall                 =    15625.000  total number of scenarios

----    142 PARAMETER r1  return scenarios at end of stage 1

            w1_01       w1_02       w1_03       w1_04       w1_05       w1_06       w1_07       w1_08       w1_09       w1_10       w1_11       w1_12       w1_13       w1_14       w1_15       w1_16       w1_17       w1_18       w1_19       w1_20

stock       0.069       0.206      -0.107       0.056       0.066       0.256       0.131       0.084      -0.159       0.013       0.139       0.176      -0.064       0.088       0.204       0.021       0.130       0.157       0.175       0.062
cbond      -0.078      -0.360       0.119      -0.129       0.112      -0.237       0.237      -0.203      -0.104      -0.118      -0.102      -0.025       0.076       0.024      -0.380      -0.029       0.034       0.189       0.136       0.018
gbond      -0.038      -0.102       0.056      -0.091       0.027      -0.115       0.116       0.018      -0.006 3.955319E-4      -0.104       0.091      -0.034      -0.044      -0.239       0.001      -0.024       0.121       0.039      -0.041
alter      -0.008      -0.006       0.002      -0.008       0.002      -0.017       0.012      -0.007      -0.003      -0.005      -0.006 2.335794E-4       0.003      -0.008      -0.006      -0.003       0.006       0.007      -0.004 -2.41952E-4
cash        0.046       0.057       0.002 -8.11093E-4       0.009       0.067       0.055       0.003      -0.061       0.007       0.030      -0.012 2.125090E-4      -0.018       0.064       0.065      -0.027      -0.036       0.047       0.029

    +       w1_21       w1_22       w1_23       w1_24       w1_25

stock       0.080       0.242      -0.074      -0.203       0.193
cbond       0.251       0.284      -0.183      -0.393       0.048
gbond       0.014      -0.014      -0.079      -0.133       0.006
alter       0.004 9.196291E-4       0.001      -0.004       0.003
cash        0.053       0.075       0.014      -0.040       0.049


----    142 PARAMETER r2  return scenarios at end of stage 2

            w2_01       w2_02       w2_03       w2_04       w2_05       w2_06       w2_07       w2_08       w2_09       w2_10       w2_11       w2_12       w2_13       w2_14       w2_15       w2_16       w2_17       w2_18       w2_19       w2_20

stock      -0.042       0.010      -0.131       0.126 5.143230E-4      -0.205      -0.012      -0.225       0.066      -0.080      -0.053      -0.022       0.043       0.239       0.147       0.039       0.093       0.149      -0.010      -0.081
cbond      -0.124      -0.176      -0.215      -0.148       0.063      -0.127      -0.277      -0.189       0.102      -0.218       0.012      -0.132       0.464       0.077       0.179       0.293      -0.021       0.075      -0.020       0.024
gbond      -0.106      -0.011      -0.056      -0.042       0.061       0.005      -0.120      -0.034       0.061      -0.092       0.023      -0.068       0.264       0.024       0.050       0.114      -0.053      -0.037      -0.068       0.020
alter 7.858815E-4 5.919827E-4 9.037209E-4 -8.04876E-4       0.005      -0.007      -0.011      -0.005 -3.90845E-6      -0.005       0.003       0.008       0.015       0.004       0.007       0.008      -0.007       0.003       0.003      -0.006
cash       -0.014      -0.008      -0.025       0.040      -0.035      -0.044       0.022      -0.072       0.012      -0.034      -0.058 -9.56558E-4      -0.014       0.030       0.048      -0.010       0.020       0.065       0.010      -0.007

    +       w2_21       w2_22       w2_23       w2_24       w2_25

stock       0.165       0.141      -0.087      -0.184      -0.036
cbond       0.345       0.313      -0.086      -0.421       0.013
gbond       0.081       0.118 -1.53115E-5      -0.123      -0.029
alter       0.006       0.015       0.002      -0.015      -0.004
cash        0.045       0.066      -0.027      -0.048       0.003

GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    142 PARAMETER r3  return scenarios at end of stage 3

            w3_01       w3_02       w3_03       w3_04       w3_05       w3_06       w3_07       w3_08       w3_09       w3_10       w3_11       w3_12       w3_13       w3_14       w3_15       w3_16       w3_17       w3_18       w3_19       w3_20

stock       0.274      -0.056      -0.038      -0.089      -0.010       0.058      -0.437      -0.280      -0.140       0.149       0.043       0.277      -0.091      -0.086      -0.072      -0.100       0.164       0.055      -0.028       0.051
cbond       0.162      -0.112      -0.192       0.147       0.398      -0.015      -0.195       0.181       0.002       0.118       0.024      -0.023       0.018       0.193      -0.228       0.069      -0.303      -0.103      -0.139       0.265
gbond      -0.028       0.028      -0.068       0.145       0.082      -0.022      -0.057       0.084       0.046       0.035      -0.047      -0.034      -0.010       0.078      -0.076       0.098      -0.071       0.002      -0.102       0.063
alter      -0.007       0.007      -0.008       0.005       0.006 2.007234E-4      -0.006       0.005       0.005       0.001      -0.002       0.003       0.005       0.004      -0.009       0.007      -0.015       0.011       0.002       0.005
cash        0.117      -0.092      -0.002      -0.012       0.028       0.021      -0.152      -0.099      -0.043       0.012       0.094       0.058      -0.004 -8.24483E-4      -0.038 -5.75798E-4       0.006      -0.010       0.007       0.041

    +       w3_21       w3_22       w3_23       w3_24       w3_25

stock       0.078      -0.161       0.145      -0.077      -0.158
cbond       0.077      -0.235      -0.017      -0.234      -0.259
gbond       0.003      -0.106      -0.079      -0.099      -0.066
alter       0.007      -0.004       0.003      -0.004      -0.008
cash        0.009       0.018       0.001      -0.053      -0.058


----    180 PARAMETER rbar  mean returns

stock  0.060,    cbond -0.031,    gbond -0.009,    alter  0.054,    cash  -0.003


----    180 PARAMETER r1bar_est  estimate for mean return 1

stock  0.060,    cbond -0.031,    gbond -0.009,    alter  0.054,    cash  -0.003


----    180 PARAMETER r2bar_est  estimate for mean return 2

stock  0.060,    cbond -0.031,    gbond -0.009,    alter  0.054,    cash  -0.003


----    180 PARAMETER r3bar_est  estimate for mean return 3

stock  0.060,    cbond -0.031,    gbond -0.009,    alter  0.054,    cash  -0.003


----    181 PARAMETER rstd  standard deviation of returns

stock 0.153,    cbond 0.148,    gbond 0.094,    alter 0.048,    cash  0.007


----    181 PARAMETER r1std_est  estimate for std dev return 1

stock 0.153,    cbond 0.148,    gbond 0.094,    alter 0.048,    cash  0.007

GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    181 PARAMETER r2std_est  estimate for std dev return 2

stock 0.153,    cbond 0.148,    gbond 0.094,    alter 0.048,    cash  0.007


----    181 PARAMETER r3std_est  estimate for std dev return 3

stock 0.153,    cbond 0.148,    gbond 0.094,    alter 0.048,    cash  0.007


----    192 PARAMETER r1  return scenarios at end of stage 1

            w1_01       w1_02       w1_03       w1_04       w1_05       w1_06       w1_07       w1_08       w1_09       w1_10       w1_11       w1_12       w1_13       w1_14       w1_15       w1_16       w1_17       w1_18       w1_19       w1_20

stock       1.051       1.248       0.843       1.033       1.047       1.328       1.136       1.071       0.790       0.980       1.146       1.201       0.890       1.077       1.245       0.989       1.135       1.173       1.199       1.042
cbond       0.936       0.754       1.089       0.900       1.084       0.829       1.193       0.850       0.918       0.908       0.919       0.976       1.054       1.013       0.742       0.972       1.021       1.149       1.104       1.008
gbond       0.974       0.905       1.086       0.916       1.050       0.891       1.163       1.040       1.011       1.018       0.902       1.130       0.979       0.967       0.772       1.019       0.990       1.170       1.065       0.971
alter       1.007       1.020       1.084       1.006       1.085       0.936       1.175       1.010       1.050       1.033       1.020       1.073       1.100       1.003       1.019       1.049       1.118       1.135       1.038       1.069
cash        1.002       1.005       0.994       0.993       0.995       1.007       1.004       0.994       0.982       0.995       0.999       0.991       0.994       0.990       1.006       1.006       0.989       0.987       1.003       0.999

    +       w1_21       w1_22       w1_23       w1_24       w1_25

stock       1.065       1.305       0.879       0.748       1.227
cbond       1.206       1.237       0.864       0.735       1.032
gbond       1.034       1.002       0.929       0.873       1.025
alter       1.101       1.079       1.082       1.040       1.092
cash        1.004       1.008       0.996       0.986       1.003


----    192 PARAMETER r2  return scenarios at end of stage 2

            w2_01       w2_02       w2_03       w2_04       w2_05       w2_06       w2_07       w2_08       w2_09       w2_10       w2_11       w2_12       w2_13       w2_14       w2_15       w2_16       w2_17       w2_18       w2_19       w2_20

stock       1.005       1.073       0.897       1.242       1.060       0.817       1.044       0.797       1.152       0.957       0.991       1.031       1.119       1.435       1.276       1.113       1.192       1.280       1.047       0.956
cbond       0.894       0.862       0.839       0.879       1.019       0.892       0.803       0.854       1.047       0.837       0.983       0.889       1.348       1.029       1.105       1.197       0.961       1.028       0.961       0.991
gbond       0.885       0.980       0.934       0.948       1.059       0.997       0.872       0.956       1.059       0.898       1.016       0.922       1.318       1.018       1.047       1.121       0.937       0.953       0.922       1.013
alter       1.055       1.054       1.056       1.044       1.088       1.001       0.979       1.018       1.050       1.016       1.070       1.108       1.159       1.076       1.102       1.108       1.004       1.068       1.070       1.008
cash        0.995       0.996       0.993       1.005       0.991       0.989       1.002       0.984       1.000       0.991       0.986       0.997       0.995       1.004       1.007       0.996       1.001       1.010       1.000       0.996

    +       w2_21       w2_22       w2_23       w2_24       w2_25

stock       1.306       1.266       0.949       0.839       1.013
cbond       1.240       1.214       0.918       0.726       0.984
gbond       1.083       1.126       0.992       0.869       0.962
alter       1.091       1.162       1.067       0.950       1.021
cash        1.007       1.011       0.992       0.988       0.998

GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    192 PARAMETER r3  return scenarios at end of stage 3

            w3_01       w3_02       w3_03       w3_04       w3_05       w3_06       w3_07       w3_08       w3_09       w3_10       w3_11       w3_12       w3_13       w3_14       w3_15       w3_16       w3_17       w3_18       w3_19       w3_20

stock       1.409       1.028       1.045       0.996       1.074       1.146       0.714       0.830       0.948       1.250       1.129       1.412       0.993       0.998       1.012       0.985       1.268       1.142       1.055       1.139
cbond       1.119       0.898       0.841       1.106       1.353       0.970       0.839       1.137       0.984       1.081       1.001       0.964       0.997       1.148       0.817       1.038       0.770       0.904       0.878       1.216
gbond       0.965       1.039       0.916       1.212       1.117       0.973       0.929       1.119       1.064       1.049       0.941       0.957       0.988       1.111       0.906       1.140       0.912       1.005       0.876       1.089
alter       0.997       1.107       0.990       1.090       1.100       1.053       1.003       1.091       1.092       1.062       1.039       1.075       1.089       1.086       0.984       1.111       0.942       1.138       1.069       1.091
cash        1.013       0.986       0.998       0.997       1.002       1.001       0.979       0.986       0.993       1.000       1.010       1.006       0.998       0.998       0.993       0.998       0.999       0.997       0.999       1.003

    +       w3_21       w3_22       w3_23       w3_24       w3_25

stock       1.167       0.930       1.245       1.008       0.932
cbond       1.045       0.813       0.969       0.813       0.798
gbond       1.006       0.871       0.903       0.879       0.918
alter       1.110       1.020       1.076       1.018       0.992
cash        0.999       1.000       0.998       0.991       0.991


----    253 VARIABLE x1.L  amount held of assets for stochastic stage 1

stock 0.200,    cbond 0.200,    gbond 0.200,    alter 0.200,    cash  0.200


----    253 VARIABLE y1.L  amount sold of assets for stochastic stage 1

                      ( ALL       0.000 )


----    253 VARIABLE z1.L  amount bought of assets for stochastic stage 1

                      ( ALL       0.000 )

GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 13
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE endowment Using MPEC From line 328


MODEL STATISTICS

BLOCKS OF EQUATIONS           8     SINGLE EQUATIONS       18,881
BLOCKS OF VARIABLES          12     SINGLE VARIABLES       41,016
NON ZERO ELEMENTS       130,724     NON LINEAR N-Z          3,125
DERIVATIVE POOL              20     CONSTANT POOL             143
CODE LENGTH             218,753


GENERATION TIME      =        0.223 SECONDS     21 MB  25.0.2 r65346 DEX-DEG


EXECUTION TIME       =        0.230 SECONDS     21 MB  25.0.2 r65346 DEX-DEG
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 14
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE endowment Using MPEC From line 328


               S O L V E      S U M M A R Y

     MODEL   endowment           OBJECTIVE  utility
     TYPE    MPEC                DIRECTION  MAXIMIZE
     SOLVER  NLPEC               FROM LINE  328

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      2 Locally Optimal           
**** OBJECTIVE VALUE                0.0445

 RESOURCE USAGE, LIMIT         82.066   1000000.000
 ITERATION COUNT, LIMIT       649       1000000
 EVALUATION ERRORS              0             0

NLPEC 1.6        25.0.2 r65346 Released Jan 31, 2018 DEG x86 64bit/Mac OS X   

Reformulates Nonlinear Programs with Equilibrium Constraints
Michael Ferris, University of Wisconsin

* Reformulation parameters, after checking for consistency.
* Reform Type        SINGLE      DOUBLE
*  refType             mult        mult
*  slack           positive    positive
*  constraint      equality    equality
*  aggregate           none        none
*  NCPBounds           none        none


--- The reformulated model /Users/michellezhang/Desktop/endowment_fund/GAMS/225a/gms.dat will be solved by GAMS
--- gams "/Users/michellezhang/Desktop/endowment_fund/GAMS/225a/gms.dat" pf="/Users/michellezhang/Desktop/endowment_fund/GAMS/225a/pf.dat"

--- Returning from GAMS NLPEC step

--- Additional Mpec Equations = 0
--- Additional Mpec Variables = 0
CONOPT 3         25.0.2 r65346 Released Jan 31, 2018 DEG x86 64bit/Mac OS X   
 
 
    C O N O P T 3   version 3.17G
    Copyright (C)   ARKI Consulting and Development A/S
                    Bagsvaerdvej 246 A
                    DK-2880 Bagsvaerd, Denmark
 
 
    The model has 41016 variables and 18881 constraints
    with 130724 Jacobian elements, 3125 of which are nonlinear.
    The Hessian of the Lagrangian has 3125 elements on the diagonal,
    6250 elements below the diagonal, and 3125 nonlinear variables.
 
                   Pre-triangular equations:   0
                   Post-triangular equations:  1
                   Definitional equations:     4
 
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 15
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE endowment Using MPEC From line 328


 
 ** Optimal solution. Reduced gradient less than tolerance.
 
 
 CONOPT time Total                           82.049 seconds
   of which: Function evaluations             0.871 =  1.1%
             1st Derivative evaluations       0.903 =  1.1%
             2nd Derivative evaluations      13.500 = 16.5%
             Directional 2nd Derivative       0.210 =  0.3%
 


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0  REDEFINED
                             0     ERRORS
                             2  PROJECTED
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 16
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    330 VARIABLE utility.L             =        0.045  utility of investments

----    330 VARIABLE x1.L  amount held of assets for stochastic stage 1

stock 0.149,    alter 0.842


----    330 VARIABLE y1.L  amount sold of assets for stochastic stage 1

                      ( ALL       0.000 )


----    330 VARIABLE z1.L  amount bought of assets for stochastic stage 1

stock 0.149,    alter 0.842


----    330 VARIABLE x2.L  amount held of assets for stochastic stage 2

            w1_01       w1_02       w1_03       w1_04       w1_05       w1_06       w1_07       w1_08       w1_09       w1_10       w1_11       w1_12       w1_13       w1_14       w1_15       w1_16       w1_17       w1_18       w1_19       w1_20

stock       0.028       0.031       0.026       0.027       0.029       0.030       0.032       0.028       0.024       0.027       0.029       0.031       0.027       0.028       0.031       0.027       0.031       0.032       0.030       0.029
alter       0.902       0.938       0.935       0.899       0.962       0.883       1.044       0.907       0.901       0.913       0.924       0.973       0.953       0.902       0.936       0.927       1.000       1.017       0.945       0.949
cash        0.074       0.074       0.077       0.074       0.077       0.071       0.081       0.074       0.075       0.075       0.074       0.077       0.077       0.074       0.074       0.076       0.078       0.079       0.075       0.076

    +       w1_21       w1_22       w1_23       w1_24       w1_25

stock       0.030       0.033       0.026       0.024       0.032
alter       0.977       0.991       0.938       0.888       0.991
cash        0.078       0.077       0.077       0.075       0.077


----    330 VARIABLE y2.L  amount sold of assets for stochastic stage 2

            w1_01       w1_02       w1_03       w1_04       w1_05       w1_06       w1_07       w1_08       w1_09       w1_10       w1_11       w1_12       w1_13       w1_14       w1_15       w1_16       w1_17       w1_18       w1_19       w1_20

stock       0.129       0.155       0.100       0.127       0.127       0.168       0.137       0.132       0.093       0.119       0.141       0.148       0.106       0.133       0.155       0.120       0.138       0.142       0.148       0.126

    +       w1_21       w1_22       w1_23       w1_24       w1_25

stock       0.129       0.161       0.104       0.088       0.151


----    330 VARIABLE z2.L  amount bought of assets for stochastic stage 2

            w1_01       w1_02       w1_03       w1_04       w1_05       w1_06       w1_07       w1_08       w1_09       w1_10       w1_11       w1_12       w1_13       w1_14       w1_15       w1_16       w1_17       w1_18       w1_19       w1_20

alter       0.054       0.079       0.022       0.052       0.049       0.095       0.055       0.056       0.017       0.043       0.066       0.069       0.027       0.058       0.079       0.043       0.058       0.062       0.071       0.049
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 17
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


        330 VARIABLE z2.L  amount bought of assets for stochastic stage 2

    +       w1_21       w1_22       w1_23       w1_24       w1_25

alter       0.050       0.083       0.027       0.012       0.072


----    330 VARIABLE x3.L  amount held of assets for stochastic stage 3

                  w2_01       w2_02       w2_03       w2_04       w2_05       w2_06       w2_07       w2_08       w2_09       w2_10       w2_11       w2_12       w2_13       w2_14       w2_15       w2_16       w2_17       w2_18       w2_19       w2_20

stock.w1_01       0.102       0.103       0.101       0.108       0.105       0.096       0.102       0.098       0.105       0.099       0.103       0.106       0.111       0.113       0.109       0.107       0.106       0.109       0.104       0.099
stock.w1_02       0.106       0.107       0.105       0.113       0.110       0.100       0.106       0.101       0.110       0.103       0.107       0.111       0.115       0.119       0.114       0.112       0.111       0.114       0.108       0.103
stock.w1_03       0.106       0.106       0.105       0.109       0.109       0.100       0.104       0.101       0.107       0.102       0.107       0.110       0.114       0.114       0.112       0.111       0.107       0.110       0.107       0.102
stock.w1_04       0.102       0.102       0.101       0.108       0.105       0.096       0.102       0.097       0.105       0.099       0.103       0.106       0.110       0.113       0.109       0.107       0.106       0.109       0.103       0.099
stock.w1_05       0.109       0.109       0.108       0.113       0.112       0.103       0.107       0.104       0.110       0.105       0.110       0.113       0.119       0.119       0.114       0.114       0.111       0.115       0.111       0.105
stock.w1_06       0.100       0.102       0.099       0.108       0.103       0.094       0.102       0.096       0.105       0.098       0.101       0.104       0.109       0.114       0.109       0.105       0.106       0.110       0.102       0.099
stock.w1_07       0.118       0.119       0.117       0.121       0.121       0.111       0.114       0.112       0.118       0.114       0.119       0.121       0.116       0.127       0.122       0.122       0.119       0.123       0.114       0.113
stock.w1_08       0.103       0.103       0.102       0.109       0.106       0.097       0.103       0.098       0.106       0.100       0.104       0.107       0.112       0.114       0.110       0.108       0.107       0.110       0.104       0.100
stock.w1_09       0.102       0.103       0.101       0.106       0.105       0.096       0.101       0.097       0.103       0.099       0.103       0.106       0.111       0.111       0.108       0.107       0.104       0.107       0.104       0.098
stock.w1_10       0.103       0.104       0.102       0.108       0.106       0.098       0.103       0.099       0.106       0.100       0.104       0.108       0.112       0.114       0.109       0.108       0.107       0.110       0.105       0.100
stock.w1_11       0.105       0.105       0.104       0.111       0.108       0.099       0.105       0.100       0.108       0.101       0.106       0.109       0.114       0.116       0.112       0.110       0.109       0.112       0.106       0.102
stock.w1_12       0.110       0.111       0.109       0.116       0.113       0.104       0.109       0.105       0.112       0.106       0.111       0.114       0.120       0.121       0.117       0.115       0.114       0.117       0.112       0.106
stock.w1_13       0.108       0.108       0.107       0.111       0.111       0.102       0.105       0.103       0.109       0.104       0.109       0.112       0.117       0.116       0.112       0.113       0.109       0.112       0.109       0.104
stock.w1_14       0.102       0.103       0.101       0.108       0.105       0.096       0.102       0.098       0.105       0.099       0.103       0.106       0.111       0.113       0.109       0.107       0.106       0.110       0.104       0.099
stock.w1_15       0.106       0.107       0.105       0.113       0.109       0.100       0.106       0.101       0.109       0.103       0.107       0.110       0.115       0.119       0.114       0.111       0.111       0.114       0.108       0.103
stock.w1_16       0.105       0.106       0.104       0.110       0.108       0.099       0.104       0.100       0.107       0.102       0.106       0.109       0.113       0.115       0.111       0.110       0.108       0.111       0.107       0.101
stock.w1_17       0.113       0.114       0.112       0.117       0.116       0.107       0.111       0.108       0.114       0.109       0.114       0.118       0.121       0.123       0.118       0.119       0.115       0.119       0.115       0.108
stock.w1_18       0.115       0.116       0.114       0.119       0.119       0.108       0.112       0.110       0.116       0.111       0.116       0.120       0.114       0.125       0.120       0.121       0.117       0.121       0.117       0.110
stock.w1_19       0.107       0.108       0.106       0.113       0.110       0.101       0.107       0.102       0.110       0.104       0.108       0.111       0.116       0.119       0.114       0.112       0.111       0.115       0.109       0.104
stock.w1_20       0.107       0.108       0.106       0.112       0.111       0.101       0.106       0.102       0.109       0.104       0.108       0.112       0.117       0.118       0.113       0.113       0.110       0.114       0.109       0.103
stock.w1_21       0.111       0.111       0.110       0.115       0.114       0.104       0.108       0.105       0.112       0.107       0.112       0.115       0.120       0.120       0.116       0.116       0.113       0.116       0.112       0.106
stock.w1_22       0.112       0.112       0.111       0.118       0.115       0.106       0.111       0.107       0.115       0.108       0.113       0.117       0.121       0.124       0.119       0.118       0.116       0.120       0.114       0.108
stock.w1_23       0.106       0.107       0.105       0.110       0.109       0.100       0.104       0.101       0.107       0.103       0.107       0.110       0.115       0.115       0.112       0.111       0.108       0.111       0.108       0.102
stock.w1_24       0.101       0.101       0.100       0.104       0.103       0.095       0.099       0.096       0.102       0.097       0.101       0.105       0.109       0.109       0.107       0.105       0.103       0.106       0.102       0.097
stock.w1_25       0.112       0.113       0.111       0.117       0.115       0.106       0.111       0.107       0.114       0.108       0.113       0.117       0.121       0.123       0.119       0.118       0.115       0.119       0.114       0.107
alter.w1_01       0.951       0.951       0.949       0.942       0.979       0.901       0.883       0.915       0.947       0.917       0.962       0.995       1.038       0.971       0.995       0.996       0.906       0.964       0.964       0.910
alter.w1_02       0.988       0.989       0.986       0.979       1.017       0.937       0.918       0.951       0.985       0.953       1.000       1.034       1.080       1.009       1.034       1.036       0.942       1.002       1.002       0.946
alter.w1_03       0.983       0.983       0.981       0.976       1.012       0.932       0.915       0.946       0.981       0.948       0.994       1.028       1.074       1.006       1.028       1.030       0.939       0.998       0.997       0.942
alter.w1_04       0.947       0.947       0.945       0.938       0.975       0.898       0.879       0.911       0.943       0.913       0.958       0.991       1.034       0.967       0.990       0.992       0.902       0.960       0.960       0.906
alter.w1_05       1.012       1.012       1.010       1.005       1.042       0.960       0.942       0.974       1.010       0.977       1.024       1.059       1.105       1.035       1.061       1.061       0.966       1.028       1.026       0.970
alter.w1_06       0.931       0.930       0.930       0.922       0.959       0.883       0.864       0.896       0.926       0.897       0.942       0.975       1.017       0.949       0.973       0.976       0.886       0.943       0.945       0.890
alter.w1_07       1.096       1.096       1.094       1.090       1.129       1.039       1.022       1.055       1.096       1.058       1.109       1.149       1.210       1.123       1.151       1.151       1.048       1.115       1.117       1.050
alter.w1_08       0.955       0.956       0.954       0.947       0.984       0.906       0.888       0.920       0.952       0.922       0.967       1.000       1.044       0.976       1.000       1.001       0.911       0.969       0.969       0.915
alter.w1_09       0.948       0.948       0.947       0.941       0.976       0.899       0.882       0.913       0.946       0.915       0.959       0.992       1.035       0.969       0.992       0.993       0.905       0.962       0.962       0.909
alter.w1_10       0.961       0.961       0.959       0.953       0.989       0.911       0.893       0.925       0.958       0.927       0.972       1.005       1.049       0.982       1.006       1.007       0.916       0.975       0.974       0.920
alter.w1_11       0.974       0.974       0.972       0.965       1.003       0.923       0.905       0.937       0.970       0.940       0.985       1.019       1.064       0.994       1.019       1.021       0.928       0.987       0.988       0.932
alter.w1_12       1.024       1.024       1.022       1.016       1.054       0.970       0.952       0.985       1.021       0.988       1.036       1.072       1.118       1.047       1.072       1.073       0.977       1.039       1.038       0.981
alter.w1_13       1.002       1.002       1.000       0.995       1.031       0.950       0.933       0.965       1.000       0.967       1.014       1.049       1.094       1.026       1.050       1.050       0.957       1.018       1.016       0.960
alter.w1_14       0.950       0.951       0.949       0.942       0.979       0.901       0.883       0.915       0.947       0.917       0.961       0.995       1.038       0.970       0.994       0.996       0.906       0.963       0.964       0.910
alter.w1_15       0.986       0.987       0.984       0.977       1.015       0.935       0.916       0.949       0.983       0.952       0.998       1.032       1.078       1.007       1.032       1.034       0.940       1.000       1.000       0.944
alter.w1_16       0.975       0.975       0.974       0.968       1.004       0.925       0.907       0.939       0.973       0.941       0.987       1.021       1.066       0.997       1.021       1.022       0.930       0.990       0.989       0.935
alter.w1_17       1.051       1.051       1.049       1.044       1.082       0.996       0.978       1.011       1.049       1.014       1.063       1.099       1.149       1.075       1.102       1.101       1.004       1.068       1.066       1.008
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 18
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


        330 VARIABLE x3.L  amount held of assets for stochastic stage 3

                  w2_01       w2_02       w2_03       w2_04       w2_05       w2_06       w2_07       w2_08       w2_09       w2_10       w2_11       w2_12       w2_13       w2_14       w2_15       w2_16       w2_17       w2_18       w2_19       w2_20

alter.w1_18       1.069       1.069       1.067       1.062       1.101       1.013       0.996       1.029       1.068       1.031       1.081       1.119       1.179       1.095       1.121       1.121       1.022       1.087       1.084       1.024
alter.w1_19       0.996       0.996       0.994       0.987       1.025       0.944       0.925       0.958       0.992       0.961       1.007       1.042       1.088       1.017       1.042       1.043       0.949       1.010       1.010       0.953
alter.w1_20       0.998       0.999       0.997       0.991       1.028       0.947       0.929       0.961       0.996       0.963       1.010       1.045       1.090       1.021       1.046       1.046       0.953       1.013       1.013       0.957
alter.w1_21       1.027       1.028       1.026       1.021       1.058       0.974       0.956       0.989       1.026       0.991       1.039       1.076       1.122       1.051       1.077       1.077       0.981       1.044       1.042       0.985
alter.w1_22       1.043       1.044       1.041       1.035       1.074       0.988       0.970       1.003       1.040       1.006       1.055       1.091       1.140       1.066       1.092       1.093       0.995       1.058       1.058       0.999
alter.w1_23       0.986       0.986       0.985       0.979       1.015       0.935       0.918       0.949       0.984       0.952       0.998       1.032       1.077       1.009       1.032       1.033       0.942       1.002       1.000       0.945
alter.w1_24       0.935       0.935       0.934       0.928       0.962       0.887       0.869       0.900       0.932       0.902       0.946       0.978       1.021       0.956       0.978       0.979       0.892       0.949       0.948       0.896
alter.w1_25       1.043       1.043       1.041       1.035       1.074       0.988       0.970       1.003       1.041       1.006       1.055       1.091       1.140       1.066       1.093       1.093       0.995       1.059       1.058       1.000

          +       w2_21       w2_22       w2_23       w2_24       w2_25

stock.w1_01       0.110       0.113       0.103       0.096       0.101
stock.w1_02       0.115       0.114       0.107       0.099       0.105
stock.w1_03       0.111       0.116       0.106       0.097       0.103
stock.w1_04       0.109       0.113       0.102       0.095       0.101
stock.w1_05       0.115       0.115       0.109       0.100       0.106
stock.w1_06       0.110       0.109       0.101       0.095       0.101
stock.w1_07       0.123       0.122       0.119       0.107       0.113
stock.w1_08       0.111       0.110       0.103       0.096       0.102
stock.w1_09       0.108       0.112       0.102       0.095       0.100
stock.w1_10       0.110       0.114       0.104       0.096       0.102
stock.w1_11       0.113       0.112       0.105       0.098       0.103
stock.w1_12       0.118       0.117       0.111       0.101       0.108
stock.w1_13       0.113       0.119       0.108       0.099       0.105
stock.w1_14       0.110       0.109       0.103       0.096       0.101
stock.w1_15       0.115       0.114       0.106       0.099       0.105
stock.w1_16       0.112       0.111       0.105       0.097       0.103
stock.w1_17       0.119       0.119       0.114       0.103       0.109
stock.w1_18       0.121       0.120       0.115       0.105       0.111
stock.w1_19       0.115       0.114       0.107       0.099       0.105
stock.w1_20       0.114       0.113       0.108       0.099       0.105
stock.w1_21       0.117       0.116       0.111       0.101       0.107
stock.w1_22       0.120       0.119       0.113       0.103       0.110
stock.w1_23       0.112       0.111       0.106       0.098       0.104
stock.w1_24       0.106       0.110       0.101       0.093       0.098
stock.w1_25       0.119       0.118       0.113       0.103       0.109
alter.w1_01       0.984       1.045       0.959       0.857       0.922
alter.w1_02       1.023       1.090       0.997       0.891       0.958
alter.w1_03       1.019       1.080       0.992       0.888       0.954
alter.w1_04       0.980       1.040       0.955       0.853       0.918
alter.w1_05       1.050       1.118       1.021       0.914       0.983
alter.w1_06       0.963       1.026       0.940       0.838       0.901
alter.w1_07       1.139       1.214       1.106       0.991       1.066
alter.w1_08       0.989       1.054       0.964       0.861       0.926
alter.w1_09       0.983       1.042       0.957       0.856       0.920
alter.w1_10       0.995       1.056       0.970       0.867       0.932
alter.w1_11       1.008       1.074       0.983       0.878       0.944
alter.w1_12       1.061       1.131       1.033       0.924       0.994
alter.w1_13       1.040       1.101       1.011       0.905       0.973
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 19
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


        330 VARIABLE x3.L  amount held of assets for stochastic stage 3

          +       w2_21       w2_22       w2_23       w2_24       w2_25

alter.w1_14       0.984       1.049       0.959       0.857       0.921
alter.w1_15       1.021       1.088       0.995       0.889       0.956
alter.w1_16       1.011       1.077       0.984       0.880       0.946
alter.w1_17       1.090       1.161       1.060       0.949       1.021
alter.w1_18       1.110       1.183       1.079       0.966       1.039
alter.w1_19       1.031       1.099       1.005       0.898       0.966
alter.w1_20       1.035       1.103       1.007       0.901       0.969
alter.w1_21       1.066       1.136       1.037       0.928       0.998
alter.w1_22       1.081       1.152       1.052       0.941       1.012
alter.w1_23       1.023       1.090       0.995       0.891       0.957
alter.w1_24       0.969       1.027       0.943       0.844       0.907
alter.w1_25       1.081       1.152       1.052       0.941       1.012


----    330 VARIABLE y3.L  amount sold of assets for stochastic stage 3

                  w2_01       w2_02       w2_03       w2_05       w2_06       w2_08       w2_09       w2_10       w2_11       w2_12       w2_13       w2_15       w2_16       w2_19       w2_20       w2_21       w2_22       w2_23       w2_25

alter.w1_01       0.002 1.907298E-4       0.004       0.003       0.002       0.004                               0.004       0.005       0.007                   0.004       0.002                               0.004       0.004
alter.w1_02       0.002                   0.004       0.003       0.002       0.004                               0.004       0.005       0.007                   0.004       0.002                         1.759854E-4       0.004
alter.w1_03       0.004       0.002       0.006       0.006       0.003       0.005 4.611083E-4       0.002       0.006       0.007       0.010       0.002       0.006       0.004 8.796906E-4 1.617493E-4       0.006       0.006 7.495546E-4
alter.w1_04       0.002 1.999749E-4       0.004       0.003       0.001       0.004                               0.004       0.005       0.007                   0.004       0.002                               0.004       0.004
alter.w1_05       0.003       0.002       0.006       0.005       0.003       0.005                   0.002       0.005       0.007       0.010                   0.005       0.004 5.064843E-4             3.141604E-4       0.006
alter.w1_06                               0.003       0.002 4.493963E-4       0.002                               0.002       0.003       0.005                   0.002                                     6.589851E-5       0.002
alter.w1_07       0.006       0.004       0.008       0.007       0.005       0.008                   0.004       0.008       0.008                               0.006                   0.002                               0.008
alter.w1_08       0.002 2.096277E-4       0.004       0.003       0.002       0.004                               0.004       0.005       0.007                   0.004       0.002                         1.756929E-4       0.004
alter.w1_09       0.003       0.002       0.005       0.005       0.002       0.004             9.759565E-4       0.005       0.006       0.009       0.001       0.005       0.003                               0.006       0.005
alter.w1_10       0.002 8.370459E-4       0.004       0.004       0.002       0.004             4.480423E-4       0.004       0.006       0.008                   0.004       0.002                               0.004       0.004
alter.w1_11       0.002 2.088328E-4       0.004       0.003       0.002       0.004                               0.004       0.005       0.007                   0.004       0.002                         1.803051E-4       0.004
alter.w1_12       0.003       0.001       0.006       0.005       0.003       0.005                   0.001       0.005       0.006       0.009                   0.005       0.003                         3.064318E-4       0.005
alter.w1_13       0.004       0.003       0.006       0.006       0.004       0.006 7.436363E-4       0.002       0.006       0.008       0.011 2.862688E-4       0.006       0.004       0.001                   0.007       0.006       0.001
alter.w1_14       0.002                   0.004       0.003       0.001       0.003                               0.003       0.005       0.007                   0.003       0.002                         7.064298E-5       0.004
alter.w1_15       0.002                   0.004       0.003       0.002       0.004                               0.004       0.005       0.007                   0.004       0.002                         1.682069E-4       0.004
alter.w1_16       0.003       0.001       0.005       0.004       0.002       0.004             7.796688E-4       0.005       0.006       0.008                   0.005       0.003                         1.714987E-4       0.005
alter.w1_17       0.004       0.003       0.007       0.006       0.004       0.006                   0.002       0.006       0.008       0.009                   0.007       0.004                         7.018433E-4       0.007
alter.w1_18       0.005       0.003       0.007       0.007       0.005       0.007                   0.003       0.007       0.008                               0.007       0.005       0.002                               0.007
alter.w1_19       0.002 4.845948E-4       0.005       0.004       0.002       0.004             3.462904E-4       0.004       0.006       0.008                   0.004       0.002                         1.969014E-4       0.004
alter.w1_20       0.003       0.002       0.005       0.005       0.003       0.005                   0.001       0.005       0.006       0.009                   0.005       0.003                         1.076014E-4       0.005
alter.w1_21       0.004       0.002       0.006       0.006       0.004       0.006                   0.002       0.006       0.007       0.010                   0.006       0.004 9.654122E-4             5.165852E-4       0.006
alter.w1_22       0.003                   0.006       0.005       0.003       0.006                   0.001       0.005       0.007       0.008                   0.005       0.003                                           0.006
alter.w1_23       0.004       0.002       0.006       0.006       0.003       0.005                   0.002       0.006       0.007       0.009       0.002       0.006       0.004 6.859518E-4             2.763345E-4       0.006 5.284918E-4
alter.w1_24       0.003       0.001       0.005       0.005       0.002       0.004             8.298200E-4       0.005       0.006       0.009       0.001       0.005       0.003                               0.005       0.005
alter.w1_25       0.003       0.002       0.006       0.005       0.004       0.006                   0.001       0.005       0.007       0.009                   0.006       0.003                                           0.006

GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 20
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    330 VARIABLE z3.L  amount bought of assets for stochastic stage 3

                  w2_01       w2_02       w2_03       w2_04       w2_05       w2_06       w2_07       w2_08       w2_09       w2_10       w2_11       w2_12       w2_13       w2_14       w2_15       w2_16       w2_17       w2_18       w2_19       w2_20

stock.w1_01       0.075       0.073       0.077       0.074       0.076       0.074       0.074       0.076       0.073       0.073       0.076       0.078       0.080       0.074       0.074       0.077       0.074       0.074       0.075       0.073
stock.w1_02       0.075       0.074       0.078       0.075       0.077       0.075       0.074       0.077       0.074       0.073       0.077       0.079       0.081       0.074       0.075       0.077       0.074       0.075       0.076       0.074
stock.w1_03       0.080       0.079       0.082       0.077       0.081       0.079       0.077       0.080       0.077       0.078       0.081       0.083       0.085       0.077       0.079       0.082       0.077       0.077       0.080       0.077
stock.w1_04       0.075       0.073       0.077       0.074       0.076       0.074       0.073       0.075       0.073       0.073       0.076       0.078       0.080       0.074       0.074       0.076       0.073       0.074       0.075       0.073
stock.w1_05       0.080       0.078       0.082       0.077       0.081       0.079       0.077       0.081       0.077       0.077       0.081       0.083       0.086       0.077       0.077       0.082       0.077       0.078       0.080       0.077
stock.w1_06       0.070       0.070       0.072       0.071       0.071       0.070       0.070       0.071       0.070       0.070       0.071       0.073       0.075       0.071       0.071       0.072       0.070       0.071       0.070       0.070
stock.w1_07       0.085       0.084       0.088       0.081       0.086       0.085       0.080       0.087       0.080       0.083       0.087       0.088       0.080       0.081       0.081       0.086       0.080       0.081       0.080       0.082
stock.w1_08       0.075       0.073       0.077       0.074       0.076       0.074       0.074       0.076       0.074       0.073       0.076       0.078       0.080       0.074       0.074       0.077       0.074       0.074       0.075       0.073
stock.w1_09       0.077       0.076       0.079       0.075       0.079       0.076       0.075       0.078       0.075       0.075       0.079       0.081       0.083       0.075       0.077       0.080       0.075       0.076       0.078       0.075
stock.w1_10       0.076       0.075       0.078       0.075       0.078       0.075       0.075       0.077       0.074       0.074       0.078       0.080       0.082       0.075       0.075       0.078       0.075       0.075       0.077       0.074
stock.w1_11       0.075       0.074       0.078       0.074       0.077       0.075       0.074       0.077       0.074       0.073       0.077       0.079       0.081       0.074       0.075       0.077       0.074       0.075       0.076       0.074
stock.w1_12       0.079       0.077       0.081       0.077       0.080       0.078       0.076       0.080       0.076       0.077       0.080       0.082       0.085       0.077       0.077       0.081       0.076       0.077       0.079       0.076
stock.w1_13       0.081       0.080       0.083       0.078       0.082       0.080       0.077       0.081       0.078       0.079       0.082       0.084       0.087       0.077       0.078       0.083       0.077       0.078       0.081       0.078
stock.w1_14       0.074       0.073       0.076       0.074       0.076       0.074       0.073       0.075       0.073       0.072       0.076       0.078       0.080       0.074       0.074       0.076       0.073       0.074       0.075       0.073
stock.w1_15       0.075       0.074       0.077       0.074       0.077       0.075       0.074       0.077       0.074       0.073       0.077       0.079       0.080       0.074       0.075       0.077       0.074       0.075       0.076       0.074
stock.w1_16       0.077       0.076       0.079       0.076       0.079       0.077       0.075       0.078       0.075       0.075       0.079       0.081       0.083       0.076       0.076       0.079       0.075       0.076       0.078       0.075
stock.w1_17       0.082       0.080       0.084       0.079       0.083       0.081       0.078       0.083       0.078       0.080       0.083       0.086       0.086       0.078       0.079       0.084       0.078       0.079       0.082       0.078
stock.w1_18       0.083       0.081       0.085       0.079       0.085       0.082       0.079       0.084       0.079       0.080       0.084       0.087       0.078       0.079       0.079       0.085       0.079       0.079       0.083       0.080
stock.w1_19       0.077       0.075       0.079       0.075       0.078       0.076       0.075       0.078       0.075       0.074       0.078       0.080       0.082       0.075       0.075       0.079       0.075       0.076       0.077       0.074
stock.w1_20       0.079       0.077       0.081       0.077       0.080       0.078       0.076       0.080       0.076       0.076       0.080       0.082       0.085       0.076       0.077       0.081       0.076       0.077       0.079       0.076
stock.w1_21       0.081       0.079       0.083       0.078       0.082       0.080       0.077       0.082       0.077       0.079       0.082       0.084       0.087       0.078       0.078       0.083       0.078       0.078       0.081       0.078
stock.w1_22       0.079       0.076       0.081       0.077       0.080       0.079       0.077       0.081       0.076       0.077       0.080       0.083       0.084       0.077       0.077       0.081       0.077       0.077       0.079       0.076
stock.w1_23       0.080       0.078       0.081       0.077       0.081       0.079       0.077       0.080       0.076       0.077       0.081       0.083       0.085       0.077       0.079       0.082       0.077       0.077       0.080       0.077
stock.w1_24       0.077       0.076       0.078       0.075       0.078       0.076       0.075       0.077       0.075       0.075       0.078       0.080       0.083       0.075       0.076       0.079       0.075       0.075       0.077       0.074
stock.w1_25       0.080       0.078       0.082       0.077       0.081       0.079       0.077       0.081       0.077       0.078       0.081       0.084       0.085       0.077       0.078       0.082       0.077       0.078       0.080       0.077

          +       w2_21       w2_22       w2_23       w2_24       w2_25

stock.w1_01       0.074       0.078       0.077       0.072       0.073
stock.w1_02       0.075       0.075       0.077       0.073       0.074
stock.w1_03       0.077       0.084       0.082       0.075       0.077
stock.w1_04       0.074       0.078       0.076       0.072       0.073
stock.w1_05       0.077       0.078       0.082       0.076       0.077
stock.w1_06       0.071       0.071       0.072       0.069       0.070
stock.w1_07       0.081       0.081       0.088       0.079       0.080
stock.w1_08       0.074       0.075       0.077       0.073       0.073
stock.w1_09       0.076       0.081       0.079       0.074       0.075
stock.w1_10       0.075       0.080       0.078       0.073       0.074
stock.w1_11       0.075       0.075       0.077       0.073       0.074
stock.w1_12       0.077       0.077       0.081       0.075       0.076
stock.w1_13       0.078       0.085       0.083       0.076       0.078
stock.w1_14       0.074       0.074       0.076       0.072       0.073
stock.w1_15       0.075       0.075       0.077       0.073       0.074
stock.w1_16       0.076       0.076       0.079       0.074       0.075
stock.w1_17       0.079       0.080       0.084       0.077       0.078
stock.w1_18       0.079       0.079       0.085       0.078       0.078
stock.w1_19       0.075       0.076       0.079       0.074       0.075
stock.w1_20       0.077       0.077       0.081       0.075       0.076
stock.w1_21       0.078       0.079       0.083       0.076       0.077
GAMS 25.0.2  r65346 Released Jan 31, 2018 DEX-DEG x86 64bit/Mac OS X                                                                                                                                                                  03/14/18 02:30:51 Page 21
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


        330 VARIABLE z3.L  amount bought of assets for stochastic stage 3

          +       w2_21       w2_22       w2_23       w2_24       w2_25

stock.w1_22       0.077       0.077       0.081       0.075       0.076
stock.w1_23       0.077       0.078       0.081       0.075       0.077
stock.w1_24       0.075       0.080       0.078       0.074       0.074
stock.w1_25       0.078       0.078       0.082       0.076       0.077


**** REPORT FILE SUMMARY

results /Users/michellezhang/Desktop/endowment_fund/GAMS/results.txt


EXECUTION TIME       =        0.032 SECONDS      7 MB  25.0.2 r65346 DEX-DEG


USER: MS&E 348  Optimization under Uncertainty       G180131/0001AS-GEN
      Stanford University, Spring 2018                          DC11508
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /Users/michellezhang/Desktop/endowment_fund/GAMS/endowment.gms
Output     /Users/michellezhang/Desktop/endowment_fund/GAMS/endowment.lst
